#Wikipedias implementation of cobs with some small improvements

Read until zero, then decode it. Returns number of encoded bytes when decoding, also doesnt overflow buffer when decoding.
